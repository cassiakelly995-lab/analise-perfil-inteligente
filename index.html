<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C√ÅSSIA V8 | NEURAL COMMAND CENTER - ULTIMATE</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;700&display=swap');
        
        :root {
            --bg: #050505; --panel: #0d1117; --accent: #00f2ff;
            --gold: #d4af37; --danger: #ff3e3e; --text: #c9d1d9; --success: #76ff03;
        }

        * { box-sizing: border-box; }
        body {
            font-family: 'Lexend', sans-serif; background: var(--bg); color: var(--text);
            margin: 0; display: grid; grid-template-columns: 320px 1fr 320px; height: 100vh; overflow: hidden;
        }

        /* SIDEBARS */
        .sidebar, .right-pane { background: var(--panel); border: 1px solid #30363d; padding: 20px; display: flex; flex-direction: column; gap: 15px; overflow-y: auto; }
        
        /* PROGRESS BAR */
        .progress-container { background: #161b22; border-radius: 10px; height: 25px; border: 1px solid #30363d; position: relative; overflow: hidden; margin-bottom: 5px; }
        .progress-bar { height: 100%; width: 0%; background: linear-gradient(90deg, var(--accent), var(--success)); transition: 0.4s; }
        .progress-text { position: absolute; width: 100%; text-align: center; font-size: 0.7rem; line-height: 25px; font-weight: bold; color: #fff; z-index: 2; }

        /* TASK LIST */
        .task-item { background: rgba(255,255,255,0.03); border: 1px solid #30363d; padding: 10px; border-radius: 8px; display: flex; align-items: center; gap: 10px; font-size: 0.8rem; cursor: pointer; transition: 0.2s; }
        .task-item:hover { border-color: var(--accent); }
        .pulse-alert { animation: pulse-border 1.5s infinite; background: rgba(255, 62, 62, 0.1) !important; }
        @keyframes pulse-border { 0% { border-color: #30363d; } 50% { border-color: var(--danger); box-shadow: 0 0 10px var(--danger); } 100% { border-color: #30363d; } }

        /* MAIN PANEL */
        .main { padding: 20px; display: flex; flex-direction: column; gap: 15px; background: radial-gradient(circle at center, #111 0%, #050505 100%); }
        .pomodoro-bar { background: #161b22; padding: 15px; border-radius: 12px; border: 1px solid var(--accent); display: flex; justify-content: space-between; align-items: center; box-shadow: 0 0 20px rgba(0,242,255,0.1); }
        .timer-display { font-size: 2rem; font-weight: bold; color: var(--accent); font-family: 'JetBrains Mono', monospace; }
        
        /* SMART FIELDS */
        .smart-fields { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; background: #161b22; padding: 12px; border-radius: 10px; border: 1px solid #333; }
        .smart-fields input { background: #000; border: 1px solid #444; color: var(--accent); padding: 10px; border-radius: 6px; font-size: 0.85rem; outline: none; font-family: 'Lexend'; }
        .smart-fields input:focus { border-color: var(--accent); box-shadow: 0 0 5px var(--accent); }

        /* EDITOR */
        .editor-container { flex: 1; background: var(--panel); border: 1px solid #30363d; border-radius: 15px; display: flex; flex-direction: column; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .nav-tabs { padding: 12px; background: #161b22; display: flex; gap: 8px; border-bottom: 1px solid #30363d; }
        .tab-btn { background: rgba(255,255,255,0.05); border: 1px solid #444; color: #fff; padding: 8px 15px; border-radius: 6px; cursor: pointer; font-size: 0.75rem; transition: 0.3s; }
        .tab-btn:hover { border-color: var(--accent); background: rgba(0,242,255,0.1); }
        textarea { flex: 1; background: transparent; border: none; color: #fff; padding: 30px; font-size: 1.2rem; line-height: 2; resize: none; outline: none; font-family: 'Lexend', sans-serif; }

        /* POST-ITS */
        .post-it { padding: 15px; border-radius: 8px; color: #000; font-weight: bold; font-size: 0.85rem; min-height: 80px; box-shadow: 5px 5px 15px rgba(0,0,0,0.3); }
        .p-red { background: #ff5f5f; } .p-yellow { background: #ffd93d; } .p-green { background: #76ff03; }
        
        .btn-copy { background: var(--accent); color: #000; font-weight: bold; padding: 15px; border: none; cursor: pointer; text-transform: uppercase; font-size: 0.9rem; letter-spacing: 1px; }
        .btn-copy:hover { background: #00c8d7; }

        .dump-area { background: #000; border: 1px dashed #444; padding: 12px; border-radius: 10px; display: flex; flex-direction: column; gap: 5px; }
    </style>
</head>
<body>

    <aside class="sidebar">
        <h2 style="color:var(--accent); font-size: 0.7rem; letter-spacing: 2px; margin-bottom: 5px;">V8 NEURAL COMMAND</h2>
        
        <div class="progress-container">
            <div class="progress-bar" id="p-bar"></div>
            <div class="progress-text" id="p-text">0% CONCLU√çDO</div>
        </div>

        <div id="task-list">
            <label class="task-item"><input type="checkbox" onchange="saveData()"> Chegada Subse√ß√£o (10h)</label>
            <label class="task-item"><input type="checkbox" onchange="saveData()"> Triagem de E-mails</label>
            <label id="task-oficio" class="task-item"><input type="checkbox" onchange="saveData()"> Of√≠cio F√≥rum (Envio)</label>
            <label class="task-item"><input type="checkbox" onchange="saveData()"> Or√ßamentos Gimba</label>
            <label class="task-item"><input type="checkbox" onchange="saveData()"> Check Extintores/Dedetiz.</label>
        </div>

        <div class="dump-area">
            <span style="font-size:0.7rem; color:var(--gold); font-weight: bold;">üß† DEP√ìSITO DE DISTRA√á√ïES</span>
            <textarea id="dump" style="height:120px; font-size:0.9rem; border:none; background:transparent; color:#888; line-height:1.4;" oninput="saveData()" placeholder="Escreva o desvaneio aqui para liberar seu c√©rebro..."></textarea>
        </div>
    </aside>

    <main class="main">
        <div class="pomodoro-bar">
            <div class="timer-display" id="timer">25:00</div>
            <div style="display: flex; gap: 10px;">
                <button class="tab-btn" id="noise-btn" onclick="toggleNoise()" style="font-weight: bold;">üîä RU√çDO BRANCO: OFF</button>
                <button onclick="togglePomodoro()" id="p-btn" style="background:var(--accent); border:none; padding:10px 20px; border-radius:8px; font-weight:bold; cursor:pointer; color: #000;">INICIAR FOCO</button>
            </div>
        </div>

        <div class="smart-fields">
            <input type="text" id="f-vara" placeholder="Vara (Ex: 1¬™ Vara C√≠vel)" oninput="autoUpdate()">
            <input type="text" id="f-comarca" placeholder="Comarca" oninput="autoUpdate()">
            <input type="text" id="f-nome" placeholder="Nome do Assistido" oninput="autoUpdate()">
        </div>

        <div class="editor-container">
            <div class="nav-tabs">
                <button class="tab-btn" onclick="loadDoc('docs')">üìú Rela√ß√£o √önica</button>
                <button class="tab-btn" onclick="loadDoc('oficio')">üìÑ Of√≠cio Autom√°tico</button>
                <button class="tab-btn" onclick="loadDoc('especial')">‚ö†Ô∏è Medidas/Oitivas</button>
            </div>
            <textarea id="editor" placeholder="Selecione um documento ou digite aqui..."></textarea>
            <button class="btn-copy" onclick="copyText()">Copiar para o Clipboard (Pronto para Colar)</button>
        </div>
    </main>

    <aside class="right-pane">
        <div style="background:linear-gradient(135deg,#1e1e1e,#000); padding:15px; border:1px solid var(--gold); border-radius:12px; text-align:center;">
            <h3 style="color:var(--gold); margin:0; font-size:0.9rem; letter-spacing: 1px;">üõí GIMBA</h3>
            <p style="font-size: 0.65rem; color: #aaa; margin: 5px 0;">SUPRIMENTOS DO M√äS</p>
            <button onclick="window.open('https://www.gimba.com.br')" style="background:var(--gold); border:none; padding:8px 15px; margin-top:5px; cursor:pointer; font-weight:bold; border-radius:6px; width: 100%;">ABRIR SITE</button>
        </div>

        <h2 style="font-size:0.7rem; color:var(--accent); letter-spacing: 1px;">ALERTAS DE RIGOR</h2>
        <div class="post-it p-red" contenteditable="true" id="p1" oninput="saveData()">üö´ N√ÉO ATENDEMOS: Trabalhista, Previdenci√°rio e Criminal Comum.</div>
        <div class="post-it p-yellow" contenteditable="true" id="p2" oninput="saveData()">üïí ATENDIMENTO: 09h √†s 12h (Limite 30 senhas/dia).</div>
        <div class="post-it p-green" contenteditable="true" id="p3" oninput="saveData()">üìã DOCS: RG, CPF, Resid√™ncia, Carteira de Trabalho e Holerite.</div>
    </aside>

    <script>
        // Configura√ß√£o de √Åudio (Fonte mais est√°vel)
        let noise = new Audio('https://actions.google.com/sounds/v1/water/rain_on_roof.ogg');
        noise.loop = true;

        const vault = {
            docs: () => `RELA√á√ÉO √öNICA DE DOCUMENTOS:\n\n1. RG e CPF (Original)\n2. Comprovante de Resid√™ncia (M√™s atual)\n3. Carteira de Trabalho\n4. Holerites: Trazer os 03 √∫ltimos.\n\nO assistido deve apresentar os documentos acima para triagem de qualquer caso civil/fam√≠lia.`,
            oficio: () => {
                const vara = document.getElementById('f-vara').value || "____ Vara";
                const comarca = document.getElementById('f-comarca').value || "____";
                const nome = document.getElementById('f-nome').value || "____";
                return `AO JU√çZO DA ${vara.toUpperCase()} DO F√ìRUM DA COMARCA DE ${comarca.toUpperCase()}.\n\nASSUNTO: ENCAMINHAMENTO DE DOCUMENTA√á√ÉO T√âCNICA\n\nA Subse√ß√£o, no exerc√≠cio de suas fun√ß√µes, encaminha em anexo a documenta√ß√£o do assistido(a) ${nome.toUpperCase()}, para a devida instru√ß√£o processual.\n\nAtenciosamente,\nSecretaria Administrativa.`;
            },
            especial: () => `PROTOCOLOS DE URG√äNCIA:\n\n- Medida Protetiva (Lei Maria da Penha)\n- Queixa Crime\n- Oitiva de V√≠timas Menores\n\nEstes casos devem ser triados com prioridade m√°xima e encaminhados imediatamente.`
        };

        let currentKey = 'docs';
        function loadDoc(k) { currentKey = k; document.getElementById('editor').value = vault[k](); }
        function autoUpdate() { if(currentKey === 'oficio') document.getElementById('editor').value = vault.oficio(); }
        
        function copyText() { 
            const e = document.getElementById('editor'); 
            e.select(); 
            document.execCommand('copy'); 
            alert("SISTEMA V8: Documento copiado com sucesso!"); 
        }

        // POMODORO & NOISE
        let timer, timeLeft = 25*60, running = false;
        function togglePomodoro() {
            const btn = document.getElementById('p-btn');
            if(running) { 
                clearInterval(timer); running = false; btn.innerText = "RETOMAR"; 
            } else { 
                running = true; btn.innerText = "PAUSAR"; timer = setInterval(updateTimer, 1000); 
            }
        }
        function updateTimer() {
            if(timeLeft <= 0) { 
                clearInterval(timer); alert("CICLO DE FOCO COMPLETO! Fa√ßa uma pausa."); timeLeft = 25*60; 
                document.getElementById('p-btn').innerText = "INICIAR NOVO"; running = false;
            } else { 
                timeLeft--; 
                let m = Math.floor(timeLeft/60), s = timeLeft%60; 
                document.getElementById('timer').innerText = `${m}:${s < 10 ? '0'+s : s}`; 
            }
        }
        function toggleNoise() {
            const btn = document.getElementById('noise-btn');
            if (noise.paused) {
                noise.play();
                btn.innerText = "üîä RU√çDO BRANCO: ON";
                btn.style.color = "var(--success)";
            } else {
                noise.pause();
                btn.innerText = "üîä RU√çDO BRANCO: OFF";
                btn.style.color = "#fff";
            }
        }

        // PERSISTENCIA & PROGRESSO
        function saveData() {
            const checks = Array.from(document.querySelectorAll('#task-list input[type="checkbox"]')).map(c => c.checked);
            localStorage.setItem('v8_tasks', JSON.stringify(checks));
            localStorage.setItem('v8_dump', document.getElementById('dump').value);
            localStorage.setItem('v8_p1', document.getElementById('p1').innerText);
            localStorage.setItem('v8_p2', document.getElementById('p2').innerText);
            localStorage.setItem('v8_p3', document.getElementById('p3').innerText);
            updateProgressBar();
        }

        function updateProgressBar() {
            const checks = document.querySelectorAll('#task-list input[type="checkbox"]');
            const done = Array.from(checks).filter(c => c.checked).length;
            const pct = Math.round((done / checks.length) * 100);
            document.getElementById('p-bar').style.width = pct + '%';
            document.getElementById('p-text').innerText = pct + '% CONCLU√çDO';
            
            // Alerta de Hor√°rio (Pulsar o Of√≠cio se n√£o feito ap√≥s 11:30)
            const agora = new Date();
            if(agora.getHours() >= 11 && agora.getMinutes() >= 30 && !checks[2].checked) {
                document.getElementById('task-oficio').classList.add('pulse-alert');
            } else {
                document.getElementById('task-oficio').classList.remove('pulse-alert');
            }
        }

        window.onload = () => {
            const savedTasks = JSON.parse(localStorage.getItem('v8_tasks'));
            if(savedTasks) { document.querySelectorAll('#task-list input[type="checkbox"]').forEach((c, i) => c.checked = savedTasks[i]); }
            document.getElementById('dump').value = localStorage.getItem('v8_dump') || "";
            document.getElementById('p1').innerText = localStorage.getItem('v8_p1') || "üö´ N√ÉO ATENDEMOS: Trabalhista...";
            document.getElementById('p2').innerText = localStorage.getItem('v8_p2') || "üïí ATENDIMENTO: 09h √†s 12h...";
            document.getElementById('p3').innerText = localStorage.getItem('v8_p3') || "üìã RELA√á√ÉO √öNICA: RG, CPF...";
            updateProgressBar();
        };
    </script>
</body>
</html>
